<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/css/select2.min.css" rel=stylesheet>
    <title>Service History</title>
    <link href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.min.css" rel="stylesheet">
    <script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>
    <link  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
</head>
<body>

    <!-- Header -->
    <header class="upcoming-service">
        <div class="faq-header">
            <div class="container">
                <nav class="navbar navbar-expand-lg">
                    <div class="container-fluid">
                        <a class="navbar-brand" href="#">
                            <img src="image/logo-small.png" alt="Logo">
                        </a>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
                            <ul class="navbar-nav">
                                <li class="nav-item">
                                    <a id="a1" class="nav-link" href="#">Prices & Services</a>
                                </li>
                                <li class="nav-item">
                                    <a id="a1" class="nav-link" href="#">Warranty</a>
                                </li>
                                <li class="nav-item">
                                    <a id="a1" class="nav-link" href="#">Blog</a>
                                </li>
                                <li class="nav-item">
                                    <a id="a1" class="nav-link" href="#">Contact</a>
                                </li>
                                <li class="nav-item d-flex">
                                    <div id="nav-line" class="line"></div>
                                    <button type="button" class="notification position-relative">
                                        <img src="image/icon-notification.png" class="" alt="Notification">
                                        <span class="position-absolute top-4 start-100 translate-middle badge rounded-circle bg-danger">
                                            9
                                            <span class="visually-hidden">unread messages</span>
                                        </span>
                                    </button>
                                </li>
                                <li class="nav-item d-flex">
                                    <div class="line" id="l1"></div>
                                    <a class="drop-toggle" data-bs-toggle="collapse" href="#drop-down">
                                        <img src="image/admin-user.png" alt="User">
                                        <img id="arrow-down" src="image/sp-arrow-down.png" alt="">
                                    </a>
                                    <ul class="collapdse dropdown-menu" id="drop-down">
                                        <li class="user-details">
                                            Welcome<b>First Customer</b>
                                        </li>
                                        <li><a>My Dashboard</a></li>
                                        <li><a>My Setting</a></li>
                                        <li><a>Logout</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>   
                </nav>
            </div>
        </div>
    </header>

    <section class="name text-center">
        <p>Welcome, <span>Gaurang!</span></p>
    </section>

    <!-- Service Histoey-->
    <section class="service-history">
        <div class="upcoming-service-details">
            <div class="container">
                <div id="upcoming-service-menu-table" class="d-flex">
                    <div class="container-menu">
                        <div class="navbar">
                            <ul id="upcoming-service-menu" class="nav flex-column">
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Dashboard</a>
                                </li>
                                <li class="nav-item active">
                                    <a class="nav-link" href="#">Service History</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Service Schedule</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Favourite Pros</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Invoices</a>
                                </li>
                                <li class="nav-item">
                                    <a class="nav-link" href="#">Notifications</a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="container-details text-center">
                        <div class="title d-flex justify-content-between">
                            <h3>Service History</h3>
                            <button class="blue">Export</button>
                        </div>
                        <table id="Data" class="table mb-3">
                            <thead>
                                <tr>
                                    <th>Service details</th>
                                    <th>Service Provider</th>
                                    <th>Payment</th>
                                    <th>Status</th>
                                    <th>Rate SP</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr id="service">
                                    <td class="table-item-2">
                                        <span>
                                            <img src="image/calendar2.png" alt="Sort">
                                            <b>09/04/2018</b>
                                        </span>
                                        <br>
                                        <span>
                                            <img src="image/layer-14.png" alt="Sort">
                                            12:00 - 08:00
                                        </span>
                                    </td>
                                    <td class="rating">
                                        <div class="rating d-flex">
                                            <img class="image4" src="image/cap.png" alt="Sort">
                                            <div class="r-details d-flex flex-column">
                                                <p>Lyum Watson</p>
                                                <div class="star d-flex">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star2.png" alt="">
                                                    <p>4</p>
                                                </div>
                                            </div>
                                        </div>    
                                    </td>
                                    <td class="table-btn-2">
                                        <span id="Price">&euro;<p>63</p></span>
                                    </td>
                                    <td class="button" class="table-btn-2">
                                        <button class="green">Completed</button>
                                    </td>
                                    <td class="button" class="table-btn">
                                        <a data-bs-toggle="modal" data-bs-target="#RateSP"><button class="blue">Rate SP</button></a>
                                    </td>
                                </tr>
                                
                                <tr id="service">
                                    <td class="table-item-2">
                                        <span>
                                            <img src="image/calendar2.png" alt="Sort">
                                            <b>09/04/2018</b>
                                        </span>
                                        <br>
                                        <span>
                                            <img src="image/layer-14.png" alt="Sort">
                                            12:00 - 08:00
                                        </span>
                                    </td>
                                    <td class="rating">
                                        <div class="rating d-flex">
                                            <img class="image4" src="image/cap.png" alt="Sort">
                                            <div class="r-details d-flex flex-column">
                                                <p>Lyum Watson</p>
                                                <div class="star d-flex">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star1.png" alt="">
                                                    <img src="image/star2.png" alt="">
                                                    <p>4</p>
                                                </div>
                                            </div>
                                        </div>    
                                    </td>
                                    <td class="table-btn-2">
                                        <span id="Price">&euro;<p>63</p></span>
                                    </td>
                                    <td class="button" class="table-btn-2">
                                        <button class="green">Completed</button>
                                    </td>
                                    <td class="button" class="table-btn">
                                        <button class="blue">Rate SP</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <div class="modal fade" id="RateSP" data-bs-backdrop="static">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <button type="button" class="close-btn" data-bs-dismiss="modal" aria-label="Close"><img
                            src="image/close.png"></button>
                
                    <div class="rating">
                        <div class="rating d-flex">
                            <img class="image4" src="image/cap.png" alt="Sort">
                            <div class="r-details d-flex flex-column">
                                <p class="mb-1">Lyum Watson</p>
                                <div class="star d-flex">
                                    <img id="1" src="image/star2.png" alt="">
                                    <img id="2" src="image/star2.png" alt="">
                                    <img id="3" src="image/star2.png" alt="">
                                    <img id="4" src="image/star2.png" alt="">
                                    <img id="5" src="image/star2.png" alt="">
                                    <p id="totalRate">0</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <h3>Rate your service provider</h3>
                    <hr>
                    <div class="d-flex">
                        <p>On time arrival</p>
                        <div id="OnTime" class="rating-star star d-flex">
                            <img id="star1" name="2" src="image/star2.png" alt="">
                            <img id="star2" name="2" src="image/star2.png" alt="">
                            <img id="star3" name="2" src="image/star2.png" alt="">
                            <img id="star4" name="2" src="image/star2.png" alt="">
                            <img id="star5" name="2" src="image/star2.png" alt="">
                        </div>
                    </div>
                    <div class="d-flex">
                        <p>Friendly</p>
                        <div id="friendly" class="rating-star rating-star-1 star d-flex">
                            <img id="star1" name="2" src="image/star2.png" alt="">
                            <img id="star2" name="2" src="image/star2.png" alt="">
                            <img id="star3" name="2" src="image/star2.png" alt="">
                            <img id="star4" name="2" src="image/star2.png" alt="">
                            <img id="star5" name="2" src="image/star2.png" alt="">
                        </div>
                    </div>
                    <div class="d-flex">
                        <p>Quality of service</p>
                        <div id="quality" class="rating-star rating-star-2 star d-flex">
                            <img id="star1" name="2" src="image/star2.png" alt="">
                            <img id="star2" name="2" src="image/star2.png" alt="">
                            <img id="star3" name="2" src="image/star2.png" alt="">
                            <img id="star4" name="2" src="image/star2.png" alt="">
                            <img id="star5" name="2" src="image/star2.png" alt="">
                        </div>
                    </div>
                    <label class="form-label">Feedback on your service provider</label>
                    <div class="mb-3">
                        <textarea type="text" class="form-control" rows="2"></textarea>
                    </div>
                    <button type="button" class="blue">Submit</button>
                </div>
            </div>
        </div>
    </div>

     <!-- Footer -->
     <footer class="faq-footer footer">
        <div class="footer-1">
            <div class="container">
                <div class="row align-item-center">
                    <div class="col-lg-2">
                        <div class="footer-logo">
                            <a href="#" ><img id="logo" src="image/logo-large.png" alt="Site-logo"></a>
                        </div>
                    </div>
                    <div class="col-lg-8">
                        <ul class="footer-nav d-flex justify-content-center">
                            <li>
                                <a href="#" title="Home">Home</a>
                            </li>
                            <li>
                                <a href="#" title="About">About</a>
                            </li>
                            <li>
                                <a href="#" title="Testimonials">Testimonials</a>
                            </li>
                            <li>
                                <a href="#" title="FAQs">FAQs</a>
                            </li>
                            <li>
                                <a href="#" title="Insurance Policy">Insurance Policy</a>
                            </li>
                            <li>
                                <a href="#" title="Impressum">Impressum</a>
                            </li>
                        </ul>
                    </div>
                    <div class="col-lg-2">
                        <ul class="social-media d-flex justify-content-end">
                            <li>
                                <a href="#" target="_blank" title="Facebook">
                                    <img src="image/ic-facebook.png" alt="Facebook">
                                </a>
                            </li>
                            <li>
                                <a href="#" target="_blank" title="Instagram">
                                    <img src="image/ic-instagram.png" alt="Instagram">
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
            <div class="line"></div>
            <div class="copyright text-center">
                <div class="d-flex justify-content-center">
                    <p id="p1">©2018 Helperland<span id="p3">.</span> All rights reserved<span id="p3">.</span></p>
                    <p id="p2">Terms and Conditions&nbsp;&nbsp;|&nbsp;&nbsp;Privacy Policy</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.6-rc.0/js/select2.min.js"></script>
    <script type="text/javascript" src="js/general.js"></script>
    <script type="text/javascript" src="js/table.js"></script>
    <script>
        $(document).ready(function(){
            var x =[0,0,0];   
            var p = 0;
            function mainRating(){
                var b = parseInt($('#totalRate').text());
                console.log(b);
                if(b <= 1)
                {
                    $('#1').attr('src','./image/star1.png');
                    $('#2').attr('src','./image/star2.png');
                    $('#3').attr('src','./image/star2.png');
                    $('#4').attr('src','./image/star2.png');
                    $('#5').attr('src','./image/star2.png');
                }
                else if(b <= 2)
                {
                    $('#1').attr('src','./image/star1.png');
                    $('#2').attr('src','./image/star1.png');
                    $('#3').attr('src','./image/star2.png');
                    $('#4').attr('src','./image/star2.png');
                    $('#5').attr('src','./image/star2.png');
                }
                else if(b <= 3)
                {
                    $('#1').attr('src','./image/star1.png');
                    $('#2').attr('src','./image/star1.png');
                    $('#3').attr('src','./image/star1.png');
                    $('#4').attr('src','./image/star2.png');
                    $('#5').attr('src','./image/star2.png');
                }
                else if(b <= 4)
                {
                    $('#1').attr('src','./image/star1.png');
                    $('#2').attr('src','./image/star1.png');
                    $('#3').attr('src','./image/star1.png');
                    $('#4').attr('src','./image/star1.png');
                    $('#5').attr('src','./image/star2.png');
                }
                else if(b <= 5)
                {
                    $('#1').attr('src','./image/star1.png');
                    $('#2').attr('src','./image/star1.png');
                    $('#3').attr('src','./image/star1.png');
                    $('#4').attr('src','./image/star1.png');
                    $('#5').attr('src','./image/star1.png');
                }
            };
            

            $('#OnTime').click(function(){
                rating($(this),0);
            });

            $('#friendly').click(function(){
                rating($(this),1);
            });

            $('#quality').click(function(){
                rating($(this),2);
            });

            function rating(a,i)
            {
                $('#star1',a).click(function(){
                    if($(this).attr('name') == 2)
                    {
                        $('#star1',a).attr('src','./image/star1.png');
                        $(this).attr('name','1');
                        x[i]+=1;
                    }
                    else
                    {
                        $('#star1',a).attr('src','./image/star2.png');
                        $(this).attr('name','2');
                        x[i]-=1;
                    }
                    p = ((x[0]+x[1]+x[2])/3).toFixed(2);
                    $('#totalRate').html(p);
                    mainRating();
                    $('#star2',a).click(function(){
                        if($(this).attr('name') == 2)
                        {
                            $('#star2',a).attr('src','./image/star1.png');
                            $(this).attr('name','1');
                            x[i]+=1;
                        }
                        else
                        {
                            $('#star2',a).attr('src','./image/star2.png');
                            $(this).attr('name','2');
                            x[i]-=1;
                        }
                        p = ((x[0]+x[1]+x[2])/3).toFixed(2);
                        $('#totalRate').html(p);
                        mainRating();
                        $('#star3',a).click(function(){
                            if($(this).attr('name') == 2)
                            {
                                $('#star3',a).attr('src','./image/star1.png');
                                $(this).attr('name','1');
                                x[i]+=1;
                            }
                            else
                            {
                                $('#star3',a).attr('src','./image/star2.png');
                                $(this).attr('name','2');
                                x[i]-=1;
                            }
                            p = ((x[0]+x[1]+x[2])/3).toFixed(2);
                            $('#totalRate').html(p);
                            mainRating();
                            $('#star4',a).click(function(){
                                if($(this).attr('name') == 2)
                                {
                                    $('#star4',a).attr('src','./image/star1.png');
                                    $(this).attr('name','1');
                                    x[i]+=1;
                                }
                                else
                                {
                                    $('#star4',a).attr('src','./image/star2.png');
                                    $(this).attr('name','2');
                                    x[i]-=1;
                                }
                                p = ((x[0]+x[1]+x[2])/3).toFixed(2);
                                $('#totalRate').html(p);
                                mainRating();
                                $('#star5',a).click(function(){
                                    if($(this).attr('name') == 2)
                                    {
                                        $('#star5',a).attr('src','./image/star1.png');
                                        $(this).attr('name','1');
                                        x[i]+=1;
                                    }
                                    else
                                    {
                                        $('#star5',a).attr('src','./image/star2.png');
                                        $(this).attr('name','2');
                                        x[i]-=1;
                                    }
                                    p = ((x[0]+x[1]+x[2])/3).toFixed(2);
                                    $('#totalRate').html(p);
                                    mainRating();
                                });
                            });
                        });
                    });
                });
            }
        });
    </script>



</body>
</html>